"use strict";(globalThis["webpackChunkschema_box"]=globalThis["webpackChunkschema_box"]||[]).push([[742],{8467:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(4569);const n={key:0,class:"container-sm"},o=(0,t.aZ)({__name:"InfoTooltip",props:{noContainer:{type:Boolean}},setup(e){return(e,a)=>{const l=(0,t.up)("QTooltip");return(0,t.wg)(),(0,t.j4)(l,{delay:300},{default:(0,t.w5)((()=>[e.noContainer?(0,t.WI)(e.$slots,"default",{key:1}):((0,t.wg)(),(0,t.iD)("div",n,[(0,t.WI)(e.$slots,"default")]))])),_:3})}}});var u=l(8508),i=l(4040),s=l.n(i);const m=o,r=m;s()(o,"components",{QTooltip:u.Z})},9742:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var t=l(4569),n=l(1041),o=l(3235),u=l(6728),i=l(5709),s=l(1435);const m=(0,i.Q_)("evaluate-store",{state:()=>({racer:{singleMode:!1},pagination:{rowsPerPage:20}}),persist:!0});var r=l(280),c=l(8467);const d={class:"column full-width items-center q-py-lg"},p={class:"col q-py-md text-grey-7"},b=(0,t.aZ)({__name:"LoadSpinner",props:{label:{}},setup(e){return(e,a)=>{const l=(0,t.up)("QSpinnerGrid");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(l,{class:"col",color:"primary",size:"lg"}),(0,t._)("div",p,(0,n.zw)(e.label),1)])}}});var w=l(7132),f=l(4040),Q=l.n(f);const v=b,_=v;Q()(b,"components",{QSpinnerGrid:w.Z});const g={class:"column flex-center"},W={class:"q-pa-sm"},y={class:"overflow-auto",style:{"max-height":"min(30rem,80vh)"}},T=(0,t._)("p",null,"复制上文的表格为TSV格式的纯文本。",-1),Z=(0,t.aZ)({__name:"Visualize",props:{mabiao:{}},setup(e){const a=e,d=(0,t.RC)((()=>Promise.all([l.e(64),l.e(30)]).then(l.bind(l,1500)))),p=(0,t.RC)((()=>Promise.all([l.e(64),l.e(909)]).then(l.bind(l,7781)))),b=(0,t.RC)((()=>l.e(702).then(l.bind(l,9702)))),w=`${a.mabiao.name}方案测评`;(0,s.Q)(w);const f=(0,o.iH)("zi"),Q=(0,o.XI)(!1),v=(0,o.XI)(),{pagination:Z}=(0,i.Jk)(m());function h(e){if(!e.columns||!e.rows)return"";const a=e=>"number"===typeof e&&e<1&&e>0?e.toFixed(8):e;let l=e.columns.map((e=>e.label)).join("\t");for(const t of e.rows)l+=`\n${e.columns.map((e=>a(t[e.field]))).join("\t")}`;return l}function x(e){v.value=e,Q.value=!0}return(e,a)=>{const l=(0,t.up)("QSpace"),i=(0,t.up)("QTooltip"),s=(0,t.up)("QBtn"),m=(0,t.up)("QBar"),S=(0,t.up)("QTab"),k=(0,t.up)("QTabs"),C=(0,t.up)("QSeparator"),U=(0,t.up)("QTabPanel"),V=(0,t.up)("QTabPanels"),P=(0,t.up)("QCardSection"),j=(0,t.up)("QCard"),z=(0,t.up)("QTable"),q=(0,t.up)("QCardActions"),$=(0,t.up)("QDialog"),B=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(l),(0,t._)("span",{class:"text-overline text-blue-grey-9 text-truncate",style:{overflow:"hidden","max-width":"calc(99vw - 6rem)"}},(0,n.zw)(w)),(0,t.Wm)(l),(0,t.wy)(((0,t.wg)(),(0,t.j4)(s,{round:"",flat:"",icon:(0,o.SU)(u.r5M)},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{self:"center middle",offset:[0,25]},{default:(0,t.w5)((()=>[(0,t.Uk)(" 返回 ")])),_:1})])),_:1},8,["icon"])),[[B]])])),_:1}),(0,t.Wm)(P,{class:"q-px-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),"active-color":"primary",class:"text-blue-grey-8","inline-label":""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{name:"mb",label:"码表信息"}),(0,t.Wm)(S,{name:"zi",label:"字频测评"}),(0,t.Wm)(S,{name:"wd",label:"组词测评"})])),_:1},8,["modelValue"]),(0,t.Wm)(C),(0,t.Wm)(V,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),animated:"","keep-alive":"",class:"container-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{name:"mb"},{default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t._)("div",W,[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载中……"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(b),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])])])),_:1}),(0,t.Wm)(U,{name:"zi"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载字频表………"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(d),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])),_:1}),(0,t.Wm)(U,{name:"wd"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载词频数据……"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(p),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)($,{modelValue:Q.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Q.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t._)("div",y,[(0,t.Wm)(z,(0,t.dG)({pagination:(0,o.SU)(Z),"onUpdate:pagination":a[2]||(a[2]=e=>(0,o.dq)(Z)?Z.value=e:null),flat:"",dense:"","title-class":"text-truncate text-center text-blue-grey-9 text-body1"},v.value,{"row-key":"index","rows-per-page-options":[20,50,100]}),null,16,["pagination"])]),(0,t.Wm)(C),(0,t.Wm)(q,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{label:"复制数据",flat:"",onClick:a[3]||(a[3]=async a=>{const l=h(v.value);await(0,o.SU)(r.Er)(l),e.$q.notify({type:"success",message:`已写入${v.value?.rows?.length}行表格到系统剪切板`})})},{default:(0,t.w5)((()=>[(0,t.Wm)(c.Z,null,{default:(0,t.w5)((()=>[T,(0,t.Uk)("你可以在其他文本编辑器、Excel、通讯软件里粘贴TSV数据。")])),_:1})])),_:1}),(0,t.Wm)(s,{label:"关闭",flat:"",color:"primary",onClick:a[4]||(a[4]=e=>Q.value=!1)})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}});var h=l(5940),x=l(3539),S=l(2289),k=l(5964),C=l(8508),U=l(1802),V=l(5128),P=l(5143),j=l(2041),z=l(4820),q=l(3414),$=l(8727),B=l(8808),D=l(6111),I=l(3906);const G=Z,R=G;Q()(Z,"components",{QCard:h.Z,QBar:x.Z,QSpace:S.Z,QBtn:k.Z,QTooltip:C.Z,QCardSection:U.Z,QTabs:V.Z,QTab:P.Z,QSeparator:j.Z,QTabPanels:z.Z,QTabPanel:q.Z,QDialog:$.Z,QTable:B.Z,QCardActions:D.Z}),Q()(Z,"directives",{ClosePopup:I.Z})}}]);