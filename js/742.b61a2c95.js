"use strict";(globalThis["webpackChunkschema_box"]=globalThis["webpackChunkschema_box"]||[]).push([[742],{8467:(e,a,l)=>{l.d(a,{Z:()=>m});var t=l(4569);const o={key:0,class:"container-sm"},n=(0,t.aZ)({__name:"InfoTooltip",props:{noContainer:{type:Boolean}},setup(e){return(e,a)=>{const l=(0,t.up)("QTooltip");return(0,t.wg)(),(0,t.j4)(l,{delay:300},{default:(0,t.w5)((()=>[e.noContainer?(0,t.WI)(e.$slots,"default",{key:1}):((0,t.wg)(),(0,t.iD)("div",o,[(0,t.WI)(e.$slots,"default")]))])),_:3})}}});var s=l(8508),i=l(4040),u=l.n(i);const r=n,m=r;u()(n,"components",{QTooltip:s.Z})},9742:(e,a,l)=>{l.r(a),l.d(a,{default:()=>H});var t=l(4569),o=l(1041),n=l(3235),s=l(6728),i=l(1435),u=l(5709);const r=(0,u.Q_)("evaluate-store",{state:()=>({racer:{singleMode:!1},pagination:{rowsPerPage:20}}),actions:{setRowsPer(e){this.pagination.rowsPerPage=e}},persist:!0});var m=l(3999),c=l(280),p=l(8467);const d={class:"column full-width items-center q-py-lg"},w={class:"col q-py-md text-grey-7"},b=(0,t.aZ)({__name:"LoadSpinner",props:{label:{}},setup(e){return(e,a)=>{const l=(0,t.up)("QSpinnerGrid");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(l,{class:"col",color:"primary",size:"lg"}),(0,t._)("div",w,(0,o.zw)(e.label),1)])}}});var f=l(7132),g=l(4040),v=l.n(g);const Q=b,_=Q;v()(b,"components",{QSpinnerGrid:f.Z});const W={class:"column flex-center"},y={class:"q-pa-sm"},Z={class:"overflow-auto",style:{"max-height":"min(30rem,80vh)"}},P=(0,t._)("p",null,"复制上文的表格为TSV格式的纯文本。",-1),T=(0,t.aZ)({__name:"Visualize",props:{mabiao:{}},setup(e){const a=e,u=(0,t.RC)((()=>Promise.all([l.e(64),l.e(984)]).then(l.bind(l,1500)))),d=(0,t.RC)((()=>Promise.all([l.e(64),l.e(636)]).then(l.bind(l,7781)))),w=(0,t.RC)((()=>l.e(702).then(l.bind(l,9702)))),b=`${a.mabiao.name}方案测评`;(0,i.Q)(b);const f=(0,n.iH)("zi"),g=(0,n.XI)(!1),v=(0,n.XI)(),Q=r(),T=(0,n.iH)({rowsPerPage:Q.pagination.rowsPerPage,page:1});function h(e){if(!e.columns||!e.rows)return"";const a=e=>"number"===typeof e&&e<1&&e>0?e.toFixed(8):e;let l=e.columns.map((e=>e.label)).join("\t");for(const t of e.rows)l+=`\n${e.columns.map((e=>a(t[e.field]))).join("\t")}`;return l}function x(e){T.value.page=1,v.value=e,g.value=!0}(0,t.YP)((()=>T.value.rowsPerPage),(()=>{Q.setRowsPer(T.value.rowsPerPage)}));const S=(0,m.Z)();return(0,t.d1)((e=>{S.notify({type:"negative",message:e.message})})),(e,a)=>{const l=(0,t.up)("QSpace"),i=(0,t.up)("QTooltip"),r=(0,t.up)("QBtn"),m=(0,t.up)("QBar"),Q=(0,t.up)("QTab"),C=(0,t.up)("QTabs"),k=(0,t.up)("QSeparator"),U=(0,t.up)("QTabPanel"),V=(0,t.up)("QTabPanels"),j=(0,t.up)("QCardSection"),z=(0,t.up)("QCard"),B=(0,t.up)("QTable"),D=(0,t.up)("QCardActions"),I=(0,t.up)("QDialog"),R=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(l),(0,t._)("span",{class:"text-overline text-blue-grey-9 text-truncate",style:{overflow:"hidden","max-width":"calc(99vw - 6rem)"}},(0,o.zw)(b)),(0,t.Wm)(l),(0,t.wy)(((0,t.wg)(),(0,t.j4)(r,{round:"",flat:"",icon:(0,n.SU)(s.r5M)},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{self:"center middle",offset:[0,25]},{default:(0,t.w5)((()=>[(0,t.Uk)(" 返回 ")])),_:1})])),_:1},8,["icon"])),[[R]])])),_:1}),(0,t.Wm)(j,{class:"q-px-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),"active-color":"primary",class:"text-blue-grey-8","inline-label":""},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{name:"mb",label:"码表信息"}),(0,t.Wm)(Q,{name:"zi",label:"字频测评"}),(0,t.Wm)(Q,{name:"wd",label:"组词测评"})])),_:1},8,["modelValue"]),(0,t.Wm)(k),(0,t.Wm)(V,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),animated:"","keep-alive":"",class:"container-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{name:"mb"},{default:(0,t.w5)((()=>[(0,t._)("div",W,[(0,t._)("div",y,[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载中……"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(w),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])])])),_:1}),(0,t.Wm)(U,{name:"zi"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载字频表………"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(u),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])),_:1}),(0,t.Wm)(U,{name:"wd"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)(t.n4,{timeout:200},{fallback:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"加载词频数据……"})])),default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(d),{mabiao:e.mabiao,onTable:x},null,8,["mabiao"])])),_:1}))])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(I,{modelValue:g.value,"onUpdate:modelValue":a[5]||(a[5]=e=>g.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(z,null,{default:(0,t.w5)((()=>[(0,t._)("div",Z,[(0,t.Wm)(B,(0,t.dG)({pagination:T.value,"onUpdate:pagination":a[2]||(a[2]=e=>T.value=e),flat:"",dense:"","title-class":"text-truncate text-center text-blue-grey-9 text-body1"},v.value,{"row-key":"index","rows-per-page-options":[20,50,100]}),null,16,["pagination"])]),(0,t.Wm)(k),(0,t.Wm)(D,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{label:"复制数据",flat:"",onClick:a[3]||(a[3]=async e=>{const a=h(v.value);await(0,n.SU)(c.Er)(a),(0,n.SU)(S).notify({type:"success",message:`已写入${v.value?.rows?.length}行表格到系统剪切板`})})},{default:(0,t.w5)((()=>[(0,t.Wm)(p.Z,null,{default:(0,t.w5)((()=>[P,(0,t.Uk)("你可以在其他文本编辑器、Excel、通讯软件里粘贴TSV数据。")])),_:1})])),_:1}),(0,t.Wm)(r,{label:"关闭",flat:"",color:"primary",onClick:a[4]||(a[4]=e=>g.value=!1)})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}});var h=l(5940),x=l(3539),S=l(2289),C=l(5964),k=l(8508),U=l(1802),V=l(5128),j=l(5143),z=l(2041),B=l(4820),D=l(3414),I=l(8727),R=l(8808),$=l(6111),q=l(3906);const G=T,H=G;v()(T,"components",{QCard:h.Z,QBar:x.Z,QSpace:S.Z,QBtn:C.Z,QTooltip:k.Z,QCardSection:U.Z,QTabs:V.Z,QTab:j.Z,QSeparator:z.Z,QTabPanels:B.Z,QTabPanel:D.Z,QDialog:I.Z,QTable:R.Z,QCardActions:$.Z}),v()(T,"directives",{ClosePopup:q.Z})}}]);