(self.webpackChunkschema_box=self.webpackChunkschema_box||[]).push([["916"],{1883:function(e,t,n){"use strict";n.a(e,async function(e,a){try{n.r(t);var r=n("6104"),l=n("2452"),o=n("7141"),u=n("4218"),c=n("7490"),i=n("3231"),s=n("5758"),f=n("3652"),d=e([l,c]);[l,c]=d.then?(await d)():d;var m={class:"column items-center"},b={key:0,class:"text-h5 q-my-sm text-blue-grey-8 text-spacing"},v={class:"bg-teal-2 text-grey-10 text-right"},p=(0,r.createElementVNode)("td",{class:"text-right bg-teal-2"}," 统计范围 ",-1),y=["innerHTML"],h=["innerHTML"],g=(0,r.createElementVNode)("div",{class:"text-h6 q-pt-xl text-blue-grey-8"}," 键位热力图（单位：%） ",-1),w={class:"col full-width",style:{"overflow-x":"auto"}},V={class:"col q-py-lg justify-right"},N=(0,r.createElementVNode)("div",{class:"text-grey-9"},[(0,r.createTextVNode)(" 点击打开或拖动文件 "),(0,r.createElementVNode)("div",{class:"q-pt-md text-bold"}," 文件要求： "),(0,r.createElementVNode)("ol",null,[(0,r.createElementVNode)("li",null,[(0,r.createTextVNode)(" 最少 "),(0,r.createElementVNode)("b",null,"6000"),(0,r.createTextVNode)(" 字的字频数据。 ")]),(0,r.createElementVNode)("li",null," 每行一个字和它的频数（正整数）。 "),(0,r.createElementVNode)("li",null,[(0,r.createTextVNode)(" 每行的字和频数用 "),(0,r.createElementVNode)("b",null,"Tab"),(0,r.createTextVNode)(" 符分隔。 ")]),(0,r.createElementVNode)("li",null," 所有按频数从大到小排序好。 ")])],-1);t.default=(0,r.defineComponent)({__name:"Single",props:{mabiao:{}},emits:["table"],setup:function(e){var t=(0,r.shallowRef)(!1),n=(0,r.shallowRef)(!1),a=(0,r.shallowRef)(l.presetHanziFreq),d=(0,r.computed)(function(){var t,n,r=(0,l.quickEvaluateHanzi)(e.mabiao,a.value),o=(0,l.zipEvaluationItems)(r.evaluate.slice(0,3)),u=(0,l.zipEvaluationItems)(r.evaluate.slice(0,5));return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){var a,r,l;a=e,r=t,l=n[t],r in a?Object.defineProperty(a,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[r]=l})}return e}({},r),n={sum1:o,sum2:u},n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t});return function(e,l){var k=(0,r.resolveComponent)("QMarkupTable"),x=(0,r.resolveComponent)("QChip"),C=(0,r.resolveComponent)("QBtn"),E=(0,r.resolveComponent)("QDialog");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",m,[n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",b," 自定义字频 ")):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(k,{separator:"horizontal",bordered:"",dense:"",class:"sticky-first-column-table full-width col"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("thead",v,[(0,r.createElementVNode)("tr",null,[p,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(c.singleActions),function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("td",{key:e.zhName},[(0,r.createElementVNode)("span",{innerHTML:e.headHtml},null,8,y),"headInfoHtml"in e?((0,r.openBlock)(),(0,r.createBlock)(o.default,{key:0,"no-container":!!e.headInfoHtmlNoContainer},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",{innerHTML:e.headInfoHtml},null,8,h)]}),_:2},1032,["no-container"])):(0,r.createCommentVNode)("",!0)])}),128))])]),(0,r.createElementVNode)("tbody",null,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(3,function(t){return(0,r.createVNode)(i.default,{key:t,mb:e.mabiao,"evaluate-result":d.value.evaluate[t-1],color:"bg-teal-1","base-fin-load-rate":d.value.baseFinLoadRate,actions:(0,r.unref)(c.singleActions),onClick:l[0]||(l[0]=function(t){return e.$emit("table",t)})},null,8,["mb","evaluate-result","base-fin-load-rate","actions"])}),64)),(0,r.createVNode)(i.default,{"index-label":"小计",class:"bg-teal-1",color:"bg-teal-1",mb:e.mabiao,"evaluate-result":d.value.sum1,actions:(0,r.unref)(c.singleActions),"base-fin-load-rate":d.value.baseFinLoadRate,onClick:l[1]||(l[1]=function(t){return e.$emit("table",t)})},null,8,["mb","evaluate-result","actions","base-fin-load-rate"]),(0,r.createVNode)(s.default,{actions:(0,r.unref)(c.singleActions),color:"bg-teal-1",class:"bg-teal-1","index-label":"加权比重","evaluate-result":d.value.sum1},null,8,["actions","evaluate-result"]),((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(2,function(t){return(0,r.createVNode)(i.default,{key:t,mb:e.mabiao,"evaluate-result":d.value.evaluate[t+2],color:"bg-teal-1","base-fin-load-rate":d.value.baseFinLoadRate,actions:(0,r.unref)(c.singleActions),onClick:l[2]||(l[2]=function(t){return e.$emit("table",t)})},null,8,["mb","evaluate-result","base-fin-load-rate","actions"])}),64)),(0,r.createVNode)(i.default,{"index-label":"总计",class:"bg-teal-1",color:"bg-teal-1",mb:e.mabiao,"evaluate-result":d.value.sum2,actions:(0,r.unref)(c.singleActions),"base-fin-load-rate":d.value.baseFinLoadRate,onClick:l[3]||(l[3]=function(t){return e.$emit("table",t)})},null,8,["mb","evaluate-result","actions","base-fin-load-rate"]),(0,r.createVNode)(s.default,{actions:(0,r.unref)(c.singleActions),color:"bg-teal-1",class:"bg-teal-1","index-label":"加权比重","evaluate-result":d.value.sum2},null,8,["actions","evaluate-result"])])]}),_:1}),g,(0,r.createElementVNode)("div",w,[(0,r.createVNode)(u.default,{"key-map":d.value.usage},null,8,["key-map"])]),(0,r.createElementVNode)("div",V,[(0,r.createVNode)(C,{outline:"",rounded:"",color:"secondary",onClick:l[4]||(l[4]=function(e){return t.value=!0})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(" 自定义字频表 "),n.value?((0,r.openBlock)(),(0,r.createBlock)(x,{key:0,dense:"",color:"secondary",class:"text-white"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(" 已设置 ")]}),_:1})):(0,r.createCommentVNode)("",!0)]}),_:1})])]),(0,r.createVNode)(E,{modelValue:t.value,"onUpdate:modelValue":l[6]||(l[6]=function(e){return t.value=e})},{default:(0,r.withCtx)(function(){return[(0,r.createVNode)(f.default,{length:6e3,single:"",label:"自定义字频表",onTsv:l[5]||(l[5]=function(e){a.value=e,t.value=!1,n.value=!0})},{default:(0,r.withCtx)(function(){return[N]}),_:1})]}),_:1},8,["modelValue"])],64)}}}),a()}catch(e){a(e)}})},4477:function(e,t,n){"use strict";n.r(t);var a=n("6104"),r=n("1719"),l=n("3761"),o=n("8227");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t,n,a,r,l,o){try{var u=e[l](o),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(a,r)}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}t.default=(0,a.defineComponent)({__name:"UserFreqTsv",props:{label:{},length:{},single:{type:Boolean}},emits:["tsv"],setup:function(e,t){var n,s=t.emit,f=(0,a.shallowRef)(),d=(0,a.shallowRef)(),m=(0,a.shallowRef)(!1),b=(0,a.shallowRef)(""),v=(0,a.computed)(function(){return!!f.value&&!m.value});function p(){s("tsv",d.value)}return(0,a.watch)(f,(n=function(){var t,n,a;return function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(l){return function(u){return function(l){if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,function(l){switch(l.label){case 0:if(!(t=f.value))return[2];return m.value=!1,[4,new r.RawFile(t).getText()];case 1:return(a=function(t){var n=e.length,a=e.single,r=Number.POSITIVE_INFINITY,l=0,c=/^[0-9]+$/,s=!0,f=!1,d=void 0;try{for(var m,b=(0,o.genEachLineJump)(t)[Symbol.iterator]();!(s=(m=b.next()).done);s=!0){var v,p,y,h=(v=m.value,p=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var n,a,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{!o&&null!=r.return&&r.return()}finally{if(u)throw a}}return l}}(v,p)||i(v,p)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=h[0],w=h[1],V=g.split("	");if(2!==V.length)return"第 ".concat(w," 行不是两列元素");if(a&&1!==(y=V[0],function(e){if(Array.isArray(e))return u(e)}(y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||i(y)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).length)return"第 ".concat(w," 行的汉字「").concat(V[0],"」不止一个字");if(!c.test(V[1]))return"第 ".concat(w," 行的频数「").concat(V[1],"」不是整数");var N=Number.parseInt(V[1]);if(N>r)return"第 ".concat(w," 行「").concat(V[0]," ").concat(N,"」的频数比上一行大");r=N,l++}}catch(e){f=!0,d=e}finally{try{!s&&null!=b.return&&b.return()}finally{if(f)throw d}}return l<n?"数据只有".concat(l,"行，少于").concat(n,"行"):""}(n=l.sent()))?(m.value=!1,m.value=!0,b.value=a):d.value=n,[2]}})},function(){var e=this,t=arguments;return new Promise(function(a,r){var l=n.apply(e,t);function o(e){c(l,a,r,o,u,"next",e)}function u(e){c(l,a,r,o,u,"throw",e)}o(void 0)})})),function(e,t){var n=(0,a.resolveComponent)("QIcon"),r=(0,a.resolveComponent)("QFile"),o=(0,a.resolveComponent)("QCardSection"),u=(0,a.resolveComponent)("QBtn"),c=(0,a.resolveComponent)("QCardActions"),i=(0,a.resolveComponent)("QCard");return(0,a.openBlock)(),(0,a.createBlock)(i,null,{default:(0,a.withCtx)(function(){return[(0,a.createVNode)(o,null,{default:(0,a.withCtx)(function(){return[(0,a.createVNode)(r,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.value=e}),style:{width:"16rem"},filled:"",label:e.label,clearable:"",error:m.value},{prepend:(0,a.withCtx)(function(){return[(0,a.createVNode)(n,{name:(0,a.unref)(l.mdiFolderOpen)},null,8,["name"])]}),error:(0,a.withCtx)(function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(b.value),1)]}),_:1},8,["modelValue","label","error"]),(0,a.renderSlot)(e.$slots,"default")]}),_:3}),(0,a.createVNode)(c,{align:"right"},{default:(0,a.withCtx)(function(){return[(0,a.createVNode)(u,{label:"确认",flat:"",disable:!v.value,color:v.value?"primary":"grey",onClick:p},null,8,["disable","color"])]}),_:1})]}),_:3})}}})},7010:function(e,t,n){"use strict";n.a(e,async function(e,a){try{n.r(t);var r=n("9395"),l=n("8172"),o=n("1054"),u=n("9858"),c=n("5666"),i=n("781"),s=n.n(i),f=e([r]);[r]=f.then?(await f)():f,n.es(r,t);var d=r.default;t.default=d,s()(r.default,"components",{QMarkupTable:l.default,QBtn:o.default,QChip:u.default,QDialog:c.default}),a()}catch(e){a(e)}})},3652:function(e,t,n){"use strict";n.r(t);var a=n("4348");n.es(a,t);var r=n("8523"),l=n("7582"),o=n("1353"),u=n("8010"),c=n("9046"),i=n("1054"),s=n("781"),f=n.n(s),d=a.default;t.default=d,f()(a.default,"components",{QCard:r.default,QCardSection:l.default,QFile:o.default,QIcon:u.default,QCardActions:c.default,QBtn:i.default})},9395:function(e,t,n){"use strict";n.a(e,async function(e,a){try{n.r(t),n.d(t,{default:function(){return r.default}});var r=n("1883"),l=e([r]);[r]=l.then?(await l)():l,n.es(r,t),a()}catch(e){a(e)}})},4348:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a.default}});var a=n("4477");n.es(a,t)}}]);